[SERVICE]
	Daemon false
	Flush 30
	Log_Level info
	Parsers_File parsers.conf

[INPUT]
	Buffer_Chunk_Size 1M
	Buffer_Max_Size 1M
	Mem_Buf_Limit 5MB
	Name tail
	Parser docker
	Path /var/log/containers/*.log
	Tag kube.*

[FILTER]
	Interval 1s
	Match **
	Name throttle
	Rate 1000
	Window 300

[FILTER]
	Match kube.*
	Merge_JSON_Log true
	Name kubernetes

[INPUT]
	Buffer_Chunk_Size 1M
	Buffer_Max_Size 1M
	Mem_Buf_Limit 5MB
	Name tail
	Parser syslog-kubelet
	Path /var/log/messages
	Tag syslog.*

[INPUT]
	Buffer_Chunk_Size 1M
	Buffer_Max_Size 1M
	Mem_Buf_Limit 5MB
	Name tail
	Parser syslog-kubelet
	Path /var/log/syslog
	Tag syslog.*

[FILTER]
	Match *
	Name record_modifier
	record cluster multinode-general

[OUTPUT]
	Name  es
	Logstash_Format true
	Match kube.*
	Type fluent
	Host taco-elasticsearch-es-http
	Port 9200
	HTTP_User elastic
	HTTP_Passwd tacoword
	tls        On
	tls.verify Off

[OUTPUT]
	Name  es
	Logstash_Format true
	Logstash_Prefix syslog
	Match syslog.*
	Type syslog
	Host taco-elasticsearch-es-http
	Port 9200
	HTTP_User elastic
	HTTP_Passwd tacoword
	tls        On
	tls.verify Off